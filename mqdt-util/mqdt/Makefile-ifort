#
# This Makefile was generated by Code::Blocks IDE.
#

SRCS_f90d1 = \
constants.f90 \
type_def.f90 \
numerical.f90 \
file_cmdl_io.f90 \
darray.f90 \
solv_mqdt.f90 \
stdio.f90 \
envset.f90 \
gengrid.f90

OBJS_f90d1 = \
constants.o \
type_def.o \
numerical.o \
file_cmdl_io.o \
darray.o \
solv_mqdt.o \
stdio.o \
envset.o \
gengrid.o

SRC_DIR_f90d1 =
OBJS_DIR = obj/
#EXE_DIR = bin/
EXE_DIR = ./

EXE = mqdt.exe
FC = ifort #gfortran
LD = ifort #gfortran
IDIR = 
CFLAGS =  -J$(OBJS_DIR) $(IDIR) -g -traceback -check all -warn interface -O0 -mcmodel=medium -heap-arrays 
# for mac osx
#LAPACK =  -L${MKLROOT}/lib -lpthread -lm -ldl
#LLAPACK = -lmkl_intel_lp64 -lpthread  -i8  -mkl=sequential
# for linux 64 arch
LAPACK =  -L${MKLROOT}/lib/intel64 -llapack -lm # -lpthread -lm -ldl
LLAPACK =  -i8 # -qmkl=sequential

LFLAGS = -g -traceback -check all -warn interface -O0 -mcmodel=medium -heap-arrays #â€“check bounds
LIBS = 

VPATH = $(SRC_DIR_f90d1):$(OBJS_DIR)
OBJS = $(addprefix $(OBJS_DIR), $(OBJS_f90d1))

all : $(EXE)

$(EXE) : $(OBJS_f90d1) 
	@mkdir -p $(EXE_DIR)
	$(LD) -o $(EXE_DIR)$(EXE) $(OBJS) $(LFLAGS) $(LIBS) $(LAPACK) $(LLAPACK)

$(OBJS_f90d1):
	@mkdir -p $(OBJS_DIR)
	$(FC) $(CFLAGS) -c $(SRC_DIR_f90d1)$(@:.o=.f90) -o $(OBJS_DIR)$@

clean :
	rm -f $(OBJS_DIR)*.*
	rm -f $(EXE_DIR)$(EXE)

# Dependencies of files
constants.o: \
   constants.f90

type_def.o: \
   type_def.f90 \
   constants.o

envset.o: \
   envset.f90 \
   constants.o 

numerical.o: \
   numerical.f90 \
   type_def.o \
   constants.o 

darray.o: \
   darray.f90 \
   constants.o

stdio.o: \
   stdio.f90 \
   constants.o \
   numerical.o \
   darray.o

file_cmdl_io.o: \
   file_cmdl_io.f90 \
   type_def.o \
   numerical.o \
   darray.o \
   stdio.o \
   constants.o

gengrid.o: \
   gengrid.f90 \
   constants.o \
   type_def.o \
   numerical.o \
   stdio.o

solv_mqdt.o: \
   solv_mqdt.f90 \
   constants.o \
   numerical.o \
   type_def.o \
   envset.o \
   stdio.o \
   gengrid.o
